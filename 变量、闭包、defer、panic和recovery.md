

## 变量作用域

在使用变量时，优先在局部搜索变量，找不到时向外部找一层一层地找，如果找到全局还没有找到就报错

### 全局变量

声明一个全局变量要在函数外声明  例：![image-20220603124135298](C:\Users\88463\Desktop\笔记\image-20220603124135298.png)

### 局部变量

不同于全局变量，只在局部起作用的变量



#### 函数体作用域

只在函数内起作用的变量![image-20220603122954374](C:\Users\88463\Desktop\笔记\image-20220603122954374.png)





#### 语句块作用域

只在语句内起作用的变量![image-20220603123122022](C:\Users\88463\Desktop\笔记\image-20220603123122022.png)

## 闭包（closure）

闭包的作用是作为桥梁连接两个互不相干的函数

![image-20220603143326934](C:\Users\88463\Desktop\笔记\image-20220603143326934.png)



使用

![image-20220603143351770](C:\Users\88463\Desktop\笔记\image-20220603143351770.png)

## differ延迟操作

go语言中一般会将defer后面的语句做延迟处理，在defer的函数即将返回时，将defer的语句进行逆序执行，即先被defer的最后执行。**通常用于资源的处理**

![image-20220604011054890](C:\Users\88463\Desktop\笔记\image-20220604011054890.png)

![image-20220604074536812](C:\Users\88463\Desktop\笔记\image-20220604074536812.png)

**defer的执行时机一般用于面试**

![image-20220604011219974](C:\Users\88463\Desktop\笔记\image-20220604011219974.png)

![image-20220604011911345](C:\Users\88463\Desktop\笔记\image-20220604011911345.png)



![image-20220604011927001](C:\Users\88463\Desktop\笔记\image-20220604011927001.png)



## scan

**注意**：**扫描输入时必须使用指针**

![image-20220604004345893](C:\Users\88463\Desktop\笔记\image-20220604004345893.png)

​	

## panic和recover

程序在运行期间遇到`panic`，程序崩溃退出，可以使用`recover`将程序恢复回来，使程序继续向后执行

**注意：recover必须搭配defer使用，且defer必须在panic之前定义**

![image-20220604012013506](C:\Users\88463\Desktop\笔记\image-20220604012013506.png)

![image-20220604012047385](C:\Users\88463\Desktop\笔记\image-20220604012047385.png)
