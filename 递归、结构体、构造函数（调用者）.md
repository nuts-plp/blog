## 递归

函数的递归调用

![image-20220604102114192](C:\Users\88463\Desktop\笔记\image-20220604102114192.png)

![image-20220604102131566](C:\Users\88463\Desktop\笔记\image-20220604102131566.png)

## type关键字

自定义类型 格式：`type 类型 数据类型` 类型为自己定义的类行，数据类型为go语言的数据类型

![image-20220604133505773](C:\Users\88463\Desktop\笔记\image-20220604133505773.png)

为数据类型起别名 格式：`type 别名 = 数据类型` 数据类型为go语言的数据类型

![image-20220604133521568](C:\Users\88463\Desktop\笔记\image-20220604133521568.png)



## struct结构体

**结构体是值数据类型**

Go语言中的基础数据类型可以表示一些事物的基本属性，但是当我们想表达一个事物的全部或部分属性时，这时候再用单一的基本数据类型明显就无法满足需求了，Go语言提供了一种自定义数据类型，可以封装多个基本数据类型，这种数据类型叫结构体，英文名称`struct`。 也就是我们可以通过`struct`来定义自己的类型了。Go语言中通过`struct`来实现面向对象。

**一个结构体可以作为另一个结构体的属性**

格式：type  类型 struct{

​       	字段名  字段类型

​       	......

​          }

### 结构体的声明和实例

结构体支持使用 `.` 来访问结构体成员（语法糖）

#### 结构体的声明

![image-20220604142025561](C:\Users\88463\Desktop\笔记\image-20220604142025561.png)





#### 结构体的几种实例化

![image-20220604141958480](C:\Users\88463\Desktop\笔记\image-20220604141958480.png)

### 匿名结构体

在定义一些临时数据结构等场景下还可以使用匿名结构体。

![image-20220604135734854](C:\Users\88463\Desktop\笔记\image-20220604135734854.png)

### 取结构体地址和取结构体成员地址

**同一结构体的成员地址是连续的**

![image-20220604141025861](C:\Users\88463\Desktop\笔记\image-20220604141025861.png)

![image-20220604141056949](C:\Users\88463\Desktop\笔记\image-20220604141056949.png)

## 构造函数

Go语言的结构体没有构造函数，我们可以自己实现。 例如，下方的代码就实现了一个`person`的构造函数。 因为`struct`是值类型，如果结构体比较复杂的话，值拷贝性能开销会比较大，所以该构造函数返回的是结构体指针类型。

定义的结构体

![image-20220604142428265](C:\Users\88463\Desktop\笔记\image-20220604142428265.png)

构造函数

![image-20220604142448640](C:\Users\88463\Desktop\笔记\image-20220604142448640.png)

![image-20220604143101474](C:\Users\88463\Desktop\笔记\image-20220604143101474.png)

### receiver

**注意：一个方法不允许有多个接收者**

![image-20220604151650336](C:\Users\88463\Desktop\笔记\image-20220604151650336.png)

#### 指针接收者

指针类型的接收者由一个结构体的指针组成，由于指针的特性，调用方法时修改接收者指针的任意成员变量，在方法结束后，修改都是有效的。这种方式就十分接近于其他语言中面向对象中的`this`或者`self`。 



![image-20220604151719304](C:\Users\88463\Desktop\笔记\image-20220604151719304.png)

##### 什么时候使用指针接收者

1. 需要修改接收者中的值
2. 接收者是拷贝代价比较大的大对象
3. 保证一致性，如果有某个方法使用了指针接收者，那么其他的方法也应该使用指针接收者。

#### 值接收者

当方法作用于值类型接收者时，Go语言会在代码运行时将接收者的值复制一份。在值类型接收者的方法中可以获取接收者的成员值，但修改操作只是针对副本，无法修改接收者变量本身。

![image-20220604151824975](C:\Users\88463\Desktop\笔记\image-20220604151824975.png)

#### 为自定义类型设置接收者

![image-20220604152549907](C:\Users\88463\Desktop\笔记\image-20220604152549907.png)
